import{d as v,r as m,o as b,a as S,c as I,b as n,e as t,f as l,w as u,v as p,g,u as f,F as k,R as h,p as q,h as C,i as _,_ as L}from"./index-a7b2b98b.js";import{F as w}from"./Footer-1e89bbe3.js";import{a as R,b as B}from"./apiRoutes-5f16bb7e.js";const c=s=>(q("data-v-e5094507"),s=s(),C(),s),F={id:"content",class:"sectionContainer vw-100 overflow-y-scroll pb-4"},N=c(()=>t("div",{class:"w-100 text-center overflow-y-hidden d-flex align-items-center mt-5 pt-5",style:{height:"260px !important"}},[t("img",{class:"logo mx-auto",src:"imgs/marke-se academy-logo.png",alt:""})],-1)),V=c(()=>t("p",{class:"title text-center mb-4"},"Faça seu Login",-1)),E={class:"label w-100",for:"email"},T={class:"label w-100",for:"senha"},A=c(()=>t("button",{class:"button w-100 btn rounded-5",type:"submit"},"Log in",-1)),D={class:"w-100 text-end mt-3 d-flex flex-column"},H=v({__name:"index",setup(s){const r=m(""),i=m("");b(()=>{const o=document.querySelector("#header"),e=document.querySelector("#footer"),a=document.querySelector("#content"),d=()=>{a.style.height=`${window.innerHeight-(e.getBoundingClientRect().height+o.getBoundingClientRect().height)}px`};d(),window.onresize=()=>{d()}});const x=async()=>{const e=JSON.parse(localStorage.getItem("roles")??"[]")[0];e=="master"||e=="academy"||e=="academy-write"?await _.push("academy-criador"):(e=="franqueado"||e==null)&&await _.push("/academy-franqueado")},y=async()=>{event==null||event.preventDefault();var o=await R.post(B.login,{email:r.value,password:i.value,platform:"academy"});o.status==200&&(localStorage.setItem("email",o.data.email),localStorage.setItem("password",o.data.password),localStorage.setItem("roles",JSON.stringify(o.data.roles)))};return(async()=>{localStorage.getItem("email")&&localStorage.getItem("password")&&await x()})(),(o,e)=>(S(),I(k,null,[n(w),t("section",F,[N,t("form",{class:"form col-6 mx-auto",action:"",onSubmit:y},[V,t("label",E,[l("E-mail "),u(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>r.value=a),class:"input form-control rounded-5 mb-3 border-0 mt-3",type:"email",placeholder:"E-mail",id:"email",name:"email"},null,512),[[p,r.value]])]),t("label",T,[l("Senha "),u(t("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>i.value=a),class:"input form-control rounded-5 mb-3 border-0 mt-3",type:"password",placeholder:"Senha",id:"password",name:"password"},null,512),[[p,i.value]])]),A,t("div",D,[n(f(h),{class:"link text-end me-3",to:"/esqueci-minha-senha"},{default:g(()=>[l("Esqueceu sua senha?")]),_:1}),n(f(h),{class:"link highlight text-end me-3 mt-2",to:"/cadastrar"},{default:g(()=>[l("Ainda não tem cadastro?")]),_:1})])],32)]),n(w)],64))}});const z=L(H,[["__scopeId","data-v-e5094507"]]);export{z as default};
