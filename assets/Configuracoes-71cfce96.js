import{d as g,r as d,o as _,a as b,c as w,e as t,u as x,w as p,v as f,j as y,p as C,h as U,_ as S}from"./index-d831f8c7.js";import{a as c,b as i,G as u}from"./apiRoutes-5f16bb7e.js";const r=l=>(C("data-v-f04800fb"),l=l(),U(),l),k={class:"p-5",style:{"min-width":"992px"}},P=y('<div class="voltar-link d-flex align-items-center" data-v-f04800fb><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="var(--highlight-color-01)" class="bi bi-arrow-left-short" viewBox="0 0 16 16" data-v-f04800fb><path fill-rule="evenodd" d="M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z" data-v-f04800fb></path></svg><a class="text-highlight mb-0 text-decoration-none highlight" href="academy-franqueado/todos-os-cursos" data-v-f04800fb>Voltar</a></div><h4 class="text text-light" data-v-f04800fb>Configurações</h4>',2),j={class:"col-12 ps-0 pt-4 pb-4 pe-4 overflow-hidden d-flex flex-row justify-content-start align-items-center"},D={class:"user-picture position-relative d-flex justify-content-start"},E={for:"profile-picture-pickup"},I={class:"user-picture highlight-bg rounded-5 d-flex justify-content-center"},V=["src"],B=r(()=>t("img",{class:"img position-absolute bottom-0 mb-2",src:"icons/camera-fill.svg",alt:"",style:{width:"40px"}},null,-1)),L=r(()=>t("input",{class:"w-100 input form-control rounded-5 mb-3 border-0",type:"password",placeholder:"Senha Atual",name:"senha-atual",value:""},null,-1)),A=r(()=>t("div",{class:"w-100 text-end my-3"},[t("a",{class:"link text-end me-3",href:""},"Esqueci minha senha")],-1)),H=r(()=>t("button",{class:"button w-100 btn rounded-5",type:"submit"},"Salvar Alterações",-1)),M=g({__name:"Configuracoes",setup(l){const o=d({id:0,name:"",email:""}),s=d({file:null,pictureUrl:""});async function m(){try{const e=await c.get(i.getOwn,{headers:u()});o.value={email:e.data.email,name:e.data.name,id:e.data.id}}catch(e){console.error("Erro ao carregar dados do usuário:",e)}}async function h(){event==null||event.preventDefault();try{const e=await c.put(i.updateChanges,o.value,{headers:u()});if(console.log("Configurações salvas com sucesso!",e),s.value.file!=null){let a=new FormData;a.append("file",s.value.file),await c.put(i.updateProfilePicture,a,{headers:u()}),console.log("Configurações de picture salvas com sucesso!",e)}}catch(e){console.error("Erro ao salvar configurações:",e)}}function v(e){var a=URL.createObjectURL(e.target.files[0]);s.value={file:e.target.files[0],pictureUrl:a}}return _(m),(e,a)=>(b(),w("section",k,[P,t("div",j,[t("div",D,[t("label",E,[t("div",I,[t("img",{class:"img icon user-picture",src:s.value.pictureUrl?s.value.pictureUrl:x(i).getProfilePicture+"?id="+o.value.id,alt:"profile-name"},null,8,V),B])]),t("input",{onChange:v,name:"profile-picture-pickup",id:"profile-picture-pickup",style:{display:"none"},type:"file",accept:"image/*"},null,32)])]),t("form",{class:"form col-3",action:"",onSubmit:h},[p(t("input",{class:"w-100 input form-control rounded-5 mb-3 border-0",type:"text",placeholder:"Nome",name:"nome","onUpdate:modelValue":a[0]||(a[0]=n=>o.value.name=n)},null,512),[[f,o.value.name]]),L,p(t("input",{class:"w-100 input form-control rounded-5 mb-3 border-0",type:"email",placeholder:"Email",name:"email","onUpdate:modelValue":a[1]||(a[1]=n=>o.value.email=n)},null,512),[[f,o.value.email]]),A,H],32)]))}});const G=S(M,[["__scopeId","data-v-f04800fb"]]);export{G as default};
