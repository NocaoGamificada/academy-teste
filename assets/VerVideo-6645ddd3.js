import{d as q,r as d,i as y,a as r,c as u,e,t as c,m as h,w as p,z as v,f as x,p as G,h as H,_ as S}from"./index-a7b2b98b.js";import{a as g,c as C,G as b,f as T}from"./apiRoutes-5f16bb7e.js";const N=m=>(G("data-v-d52536b0"),m=m(),H(),m),A={style:{"flex-direction":"column"},class:"w-full center"},B=N(()=>e("div",{class:"header"},[e("a",{href:"/academy-franqueado/home",style:{height:"100%"}},[e("img",{src:"imgs/marke-se academy-logo.png",style:{height:"100%"}})])],-1)),D={style:{"flex-direction":"column",gap:"32px"},class:"center"},L={key:0,style:{color:"white"}},R=["src"],z={key:2,style:{color:"white"}},M={key:3,style:{color:"white"}},j={style:{display:"flex","flex-direction":"row","justify-content":"center",gap:"16px"}},P={key:0,class:"w-100 center flex-column"},F={class:"flex-column"},J=N(()=>e("h1",{class:"title",textContent:"Qual o nome foda-se"},null,-1)),K={class:"flex-column"},O={class:"flex-row",style:{gap:"10px"}},W=["value"],X=["textContent"],Y={class:"flex-row",style:{gap:"10px"}},Z=["value"],ee=["textContent"],oe={class:"flex-row",style:{gap:"10px"}},te=["value"],se=["textContent"],ne={class:"flex-row",style:{gap:"10px"}},ae=["value"],le=["textContent"],ie={class:"flex-row",style:{gap:"10px"}},de=["value"],re=["textContent"],ue=q({__name:"VerVideo",setup(m){const _=d(""),i=d({video:{id:0,title:"",index:0},courseTitle:"",countVideos:0,completeQuestion:!1}),a=d({id:0,options:[]}),w=d(0),f=d(0),V=d(!1),l=d("");k();async function k(){const{videoIndex:n,courseId:o}=y.currentRoute.value.params;!isNaN(Number(n))&&!isNaN(Number(o))&&(await I(n,o),await $(n,o),w.value=Number(o),f.value=Number(n))}async function I(n,o){var t;try{n=Number(n);const s=await g.get(C.getVideoInfo+`?courseId=${o}&index=${n}`,{headers:b()});i.value=s.data,a.value=s.data.question}catch(s){((t=s==null?void 0:s.response)==null?void 0:t.data.messageError)!=null?window.alert(s.response.data.messageError):window.alert("Houve um erro inesperado por favor tente novamente")}}async function $(n,o){var t;try{const s=await g.get(C.getVideo+`?index=${n}&courseId=${o}`,{headers:b()});_.value=s.data}catch(s){console.log(s),((t=s==null?void 0:s.response)==null?void 0:t.data.messageError)!=null?window.alert(s.response.data.messageError):window.alert("Houve um erro inesperado por favor tente novamente")}}async function E(){}async function U(){if(!(f.value+1>i.value.countVideos))if(i.value.completeQuestion){const n=`/academy/curso/ver-video/${w.value}/${f.value+1}`;await y.push(n)}else window.alert("Vamos responder as perguntas agora"),V.value=!0}async function Q(){var o;if(l.value==""&&window.alert("por favor escolha uma das opções para responder!"),window.confirm("Caso você erre esta questão você somente podera responder ela novamente depois de alguns minutos, tem certeza?"))try{await g.post(T.respondQuestion+`?questionId=${a.value.id}&responseId=${l.value}`,null,{headers:b()}),window.alert("deu tudo certo vamo pra proxima!");const t=`/academy/curso/ver-video/${w.value}/${f.value+1}`;await y.push(t)}catch(t){((o=t==null?void 0:t.response)==null?void 0:o.data.messageError)!=null?window.alert(t.response.data.messageError):window.alert("Houve um erro inesperado por favor tente novamente")}}return(n,o)=>(r(),u("section",A,[B,e("div",D,[i.value.courseTitle!=""?(r(),u("h1",L,c(i.value.courseTitle),1)):h("",!0),_.value!=""?(r(),u("video",{key:1,style:{width:"50%"},autoplay:"",controls:"",src:_.value,controlsList:"nodownload"},null,8,R)):h("",!0),_.value==""?(r(),u("h2",z,"Estamos carregando o seu video....")):(r(),u("h2",M,c(i.value.video.title),1)),e("div",j,[e("button",{onClick:E,class:"btn button highlight-bg rounded-5"},"Ver material"),i.value.video.index<i.value.countVideos?(r(),u("button",{key:0,onClick:U,class:"btn button highlight-bg rounded-5"},"Proximo")):h("",!0)])]),V.value?(r(),u("div",P,[e("div",F,[J,e("div",K,[e("div",O,[p(e("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>l.value=t),id:"a",name:"options",type:"radio",value:a.value.options[0].id},null,8,W),[[v,l.value]]),e("label",{for:"a",class:"option",textContent:c(a.value.options[0].content)},null,8,X)]),e("div",Y,[p(e("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>l.value=t),id:"b",name:"options",type:"radio",value:a.value.options[1].id},null,8,Z),[[v,l.value]]),x("> "),e("label",{for:"b",class:"option",textContent:c(a.value.options[1].content)},null,8,ee)]),e("div",oe,[p(e("input",{"onUpdate:modelValue":o[2]||(o[2]=t=>l.value=t),id:"c",name:"options",type:"radio",value:a.value.options[2].id},null,8,te),[[v,l.value]]),x("> "),e("label",{for:"c",class:"option",textContent:c(a.value.options[2].content)},null,8,se)]),e("div",ne,[p(e("input",{"onUpdate:modelValue":o[3]||(o[3]=t=>l.value=t),id:"d",name:"options",type:"radio",value:a.value.options[3].id},null,8,ae),[[v,l.value]]),x("> "),e("label",{for:"d",class:"option",textContent:c(a.value.options[3].content)},null,8,le)]),e("div",ie,[p(e("input",{"onUpdate:modelValue":o[4]||(o[4]=t=>l.value=t),id:"e",name:"options",type:"radio",value:a.value.options[4].id},null,8,de),[[v,l.value]]),x("> "),e("label",{for:"e",class:"option",textContent:c(a.value.options[4].content)},null,8,re)])])]),e("button",{onClick:Q},"Responder")])):h("",!0)]))}});const ve=S(ue,[["__scopeId","data-v-d52536b0"]]);export{ve as default};
