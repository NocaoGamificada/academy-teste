import{d as b,r as l,o as C,a as c,c as r,e,t as a,F as k,l as S,j as M,i as m,q as F,p as I,h as B,_ as $}from"./index-d831f8c7.js";import{a as u,c as v,G as h}from"./apiRoutes-5f16bb7e.js";const d=n=>(I("data-v-83ee1664"),n=n(),B(),n),j={key:0,class:"col-12 p-5",style:{width:"100vw","overflow-y":"auto"}},E=d(()=>e("div",{class:"voltar-link d-flex align-items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"var(--text-light-color)",class:"bi bi-arrow-left-short",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z"})]),e("a",{class:"mb-0 text-decoration-none text-light",href:"academy-franqueado/todos-os-cursos"},"Voltar")],-1)),H={class:"d-flex align-items-center"},N=["textContent"],q=["src"],L=M('<div class="d-flex align-items-center" data-v-83ee1664><div data-v-83ee1664><img class="img video" src="imgs/maxresdefault.jpg" alt="" data-v-83ee1664></div><div class="ms-4" data-v-83ee1664><p class="text text-light mb-1 fs-6" data-v-83ee1664>Subtítulo</p><p class="text text-light mb-1 fs-6" data-v-83ee1664>Quantidade de Modulos</p><p class="text text-light mb-1 fs-6" data-v-83ee1664>Criador</p><p class="text text-light mb-0 fs-6" data-v-83ee1664>Categorias</p></div></div>',1),P={class:"col-12 pe-4 d-flex justify-content-between align-items-center"},V=d(()=>e("h4",{class:"h5 secondary-title text-light mt-4"},"Módulos",-1)),z=["textContent"],A={class:"mt-4"},G={class:"secondary-bg col-12 d-flex justify-content-between align-items-center p-4 rounded-5 mb-3"},D={class:"col-2 d-flex align-items-center"},Q=d(()=>e("img",{class:"play-icon icon col-1 me-4",src:"icons/play-btn.svg",alt:""},null,-1)),R={class:"text text-light col-6 mb-0"},X={class:"text text-light col-5 text-end col-1 mb-0"},J={class:"text text-light col-1 mb-0"},K=["href"],O={key:1,style:{width:"100vw","overflow-y":"auto",display:"flex","align-items":"center","justify-content":"center"}},T=d(()=>e("h1",{style:{color:"white"}},"Loading....",-1)),U=[T],W=b({__name:"CursoPage",setup(n){const s=l({}),_=l([]),p=l([]),g=l(!0),x=async()=>{const{id:o}=m.currentRoute.value.params;if(isNaN(Number(o)))window.alert("id de curso invalido!"),m.push("/");else try{const t=await u.get(v.getCourse+"?courseId="+o,{headers:h()});s.value=t.data.course,_.value=t.data.videos,p.value=t.data.comments,g.value=!1}catch{}},f=async()=>{var o;try{s.value.isFavorite=!s.value.isFavorite,await u.put(v.favoriteCourse+`?courseId=${s.value.id}&stateFavorite=${s.value.isFavorite}`,null,{headers:h()})}catch(t){if(((o=t==null?void 0:t.response)==null?void 0:o.data.messageError)!=null){window.alert(t.response.data.messageError);return}window.alert("Houve um erro inesperado por favor tente novamente")}},w=async()=>{var o;if(!s.value.haveCourse)try{await u.post(v.buyCourse+`?courseId=${s.value.id}`,null,{headers:h()}),s.value.haveCourse=!0}catch(t){if(((o=t==null?void 0:t.response)==null?void 0:o.data.messageError)!=null){window.alert(t.response.data.messageError);return}window.alert("Houve um erro inesperado por favor tente novamente")}};return x(),C(()=>{const o=document.querySelector("#sideMenu");o.style.width="0px";const t=document.querySelector("#content");t.style.width="100vw",t.style.overflowX="hidden"}),(o,t)=>g.value?(c(),r("section",O,U)):(c(),r("section",j,[E,e("div",H,[e("h4",{class:"highlight title mb-0",textContent:a(s.value.title)},null,8,N),e("img",{onClick:f,class:"icon star-icon img ms-3",src:s.value.isFavorite?"icons/star_fill.png":"icons/star_empty.png",alt:""},null,8,q)]),L,e("div",P,[V,e("button",{onClick:w,class:"btn button highlight-bg rounded-5",textContent:a(s.value.haveCourse?"Baixar Material":"Comprar curso")},null,8,z)]),e("div",A,[(c(!0),r(k,null,S(_.value,(i,y)=>(c(),r("div",G,[e("div",D,[Q,e("p",R,"Módulo "+a(y),1)]),e("p",X,a(12)+"% "+a(i.concluido>0?"concluido":""),1),e("p",J,a(i.time)+" minutos",1),e("a",{href:`/academy/curso/ver-video/${s.value.id}/${i.index}`},[e("button",{class:F(`btn button col-4 rounded-5 ${i.concluido>0?"highlight-bg":"text-light-bg"}`)},a(i.concluido>0?"Continuar":"Assistir"),3)],8,K)]))),256))])]))}});const ee=$(W,[["__scopeId","data-v-83ee1664"]]);export{ee as default};
